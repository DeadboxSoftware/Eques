var deadbox=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([,function(t,e,n){n(2),t.exports=n(3)},function(t,e,n){"use strict";n.r(e)},function(t,e,n){"use strict";function i(t,e,n,i){var r,o,s=(r=n,o=i,function(){r(o)});return t.addEventListener(e,s),s}function r(t,e){var n=(e=e||document).querySelectorAll(t);return Array.prototype.slice.call(n)}function o(t){return null===t.parentNode?[]:Array.prototype.filter.call(t.parentNode.children,(function(e){return e!==t}))}n.r(e),n.d(e,"ContentSwitcher",(function(){return P})),n.d(e,"nav",(function(){return D})),n.d(e,"set_full_size",(function(){return s}));function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.style.height=document.body.offsetHeight-e+"px"}function c(t,e){var n=t.scrollHeight;t.style.height=null,t.style.maxHeight=n+"px";t.style.transition="0.25s",window.requestAnimationFrame((function(){t.style.maxHeight="0px"})),t.addEventListener("transitionend",(function e(n){console.log("collapse"),n.target.style.maxHeight="0px",t.removeEventListener("transitionend",e)})),t.setAttribute("data-collapsed","true")}function l(t){var e=t.scrollHeight;t.style.maxHeight=e+"px";t.addEventListener("transitionend",(function e(n){console.log("expand"),n.target.style.maxHeight=null,n.target.style.height="auto",t.removeEventListener("transitionend",e)})),t.setAttribute("data-collapsed","false")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.step=this.run,this.timerID,this.canceled=!1,this.arr=[]}var e,n,i;return e=t,(n=[{key:"innerStep",value:function(t){this.timestamp=t,this.run(),0==this.canceled&&(this.timerID=requestAnimationFrame(this.innerStep.bind(this)),this.arr.includes(this.timerID)||this.arr.push(this.timerID))}},{key:"run",value:function(t){return"parent"}},{key:"start",value:function(){console.log("started"),this.timerID=window.requestAnimationFrame(this.innerStep.bind(this))}},{key:"cancel",value:function(){console.log("canceled"),this.canceled=!0,window.cancelAnimationFrame(this.timerID)}}])&&a(e.prototype,n),i&&a(e,i),t}();function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}function y(t){var e=x();return function(){var n,i=I(t);if(e){var r=I(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v(this,n)}}function v(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){var e="function"==typeof Map?new Map:void 0;return(m=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return b(t,arguments,I(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),g(i,t)})(t)}function b(t,e,n){return(b=x()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&g(r,n.prototype),r}).apply(null,arguments)}function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var S=function(t){p(o,t);var e,n,i,r=y(o);function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.step;return d(this,o),r.call(this,t)}return e=o,(n=[{key:"next",value:function(){}},{key:"step",value:function(){console.log("steps")}}])&&f(e.prototype,n),i&&f(e,i),o}(m(Animation));Animation;function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function O(t,e,n){return(O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=j(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function E(t,e){return(E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=j(t);if(e){var r=j(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _(this,n)}}function _(t,e){return!e||"object"!==w(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(o,t);var e,n,i,r=T(o);function o(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this)).timerInS=t,n.step=n.run,n.estimatedEnd=Date.now()+1e3*n.timerInS,n.currentCount=(n.estimatedEnd-Date.now())/1e3,n.lastSecond=t+1,n.paused=!1,n.onComplete=e.onComplete||!1,n}return e=o,(n=[{key:"run",value:function(t){O(j(o.prototype),"run",this).call(this),this.currentCount=(this.estimatedEnd-Date.now())/1e3,this.paused||(this.secondWatcher(),this.currentCount<=0&&(this.canceled=!0,window.cancelAnimationFrame(this.timerID),this.estimatedEnd=Date.now()+1e3*this.timerInS,this.onComplete&&this.onComplete()))}},{key:"secondWatcher",value:function(){this.currentSecond=Math.abs(Math.ceil(this.currentCount)),console.log(this.currentSecond,this.lastSecond),this.currentSecond<this.lastSecond?this.currentSecond<0?this.lastSecond=this.timerInS+1:this.lastSecond=this.currentSecond:0==this.lastSecond&&(this.lastSecond=this.timerInS+1)}},{key:"resetTimer",value:function(){this.estimatedEnd=Date.now()+1e3*this.timerInS}},{key:"cancel",value:function(){O(j(o.prototype),"cancel",this).call(this)}},{key:"restart",value:function(){this.cancel(),this.lastSecond=this.timerInS+1,this.start()}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(){this.estimatedEnd=Date.now()+1e3*this.currentSecond,this.paused=!1}},{key:"start",value:function(){this.canceled=!1,this.estimatedEnd=Date.now()+1e3*this.timerInS,O(j(o.prototype),"start",this).call(this)}}])&&k(e.prototype,n),i&&k(e,i),o}(u);function C(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var P=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.animate=e.animate||!1,this.animateType=e.animateType||"fade",this.animateComplete=!e.animate,this.loop=e.loop||!1,this.loopTimerCount=e.loopTimerCount||10,this.loopTimer=new L(10,{onComplete:function(){n.next()}}),this.hasVideo=e.video||!1,this.videos=[],this.currentIndex=0,this.previousIndex=null,this.nextIndex=null,this.btn=e.btn||null,this.btnType=e.btnType||null,this.display=e.display||null,this.containerIdentifier=e.container,this.elem_cont=document.querySelector(e.container),this.children=[].slice.call(this.elem_cont.children),this.childrenLen=this.children.length-1,document.addEventListener("visibilitychange",(function(){"hidden"==document.visibilityState?n.loopTimer.pause():"visible"==document.visibilityState&&n.loopTimer.resume()})),window.timer=this.loopTimer,this.init()}var e,n,r;return e=t,(n=[{key:"resetLoopTimer",value:function(){this.loopTimer.restart()}},{key:"init",value:function(){this.hideExcIndex(),this.btn&&this.createBtns(),this.hasVideo&&this.lookupVideos(),this.loop&&this.loopTimer.restart()}},{key:"hideExcIndex",value:function(){for(var t in this.children)0!=t&&(this.children[t].style.display="none")}},{key:"next",value:function(){this.currentIndex===this.children.length-1?this.nextIndex=0:this.nextIndex=this.currentIndex+1,this.handleNext()}},{key:"prev",value:function(){0===this.currentIndex?this.nextIndex=this.children.length-1:this.nextIndex=this.currentIndex-1,this.handleNext()}},{key:"handleNext",value:function(){this.handleVideos(),this.resetLoopTimer(),this.tabChange(),this.handleLoop()}},{key:"tabChange",value:function(){"tab"==this.btnType&&(this.tabs[this.currentIndex].classList.remove("active"),this.tabs[this.nextIndex].classList.add("active"))}},{key:"handleLoop",value:function(){0==this.animate?(this.shiftIndex(),this.handleDisplay()):"fade"==this.animateType&&(this.animation=new S)}},{key:"handleDisplay",value:function(){"flex"==this.display?(this.children[this.previousIndex].style.display="none",this.children[this.currentIndex].style.display="flex"):(this.children[this.previousIndex].style.display="none",this.children[this.nextIndex].style.display="block")}},{key:"shiftIndex",value:function(){this.previousIndex=this.currentIndex,this.currentIndex=this.nextIndex}},{key:"createBtns",value:function(){if("tab"==this.btnType){var t=document.createElement("div");t.setAttribute("class","tab-container"),this.tabs=[];for(var e=0;e<=this.childrenLen;e++)this.tabs[e]=document.createElement("div"),this.tabs[e].setAttribute("class","tab-btn tab-"+e),this.tabs[e].setAttribute("data-id",e),0==e&&this.tabs[e].classList.add("active"),t.appendChild(this.tabs[e]),i(this.tabs[e],"click",this.goToSlide,{no:e,this:this});this.elem_cont.parentElement.appendChild(t)}}},{key:"goToSlide",value:function(t){console.log(t),t.no!=t.this.currentIndex&&(t.this.nextIndex=t.no,t.this.handleNext(),t.this.shiftIndex())}},{key:"fade",value:function(){this.children[this.currentIndex].style.opacity="1",this.children[this.nextIndex].style.opacity="0",this.children[this.nextIndex].style.zIndex="2",this.children[this.currentIndex].style.zIndex="1";var t=this,e=!1,n=new u((function(){0==e&&(t.children[t.nextIndex].style.display=t.display,e=!0),Number(t.children[t.nextIndex].style.opacity)<1?t.children[t.nextIndex].style.opacity=Number(t.children[t.nextIndex].style.opacity)+.05:(n.cancel(),t.animationComplete=!0)})),i=new u((function(){Number(t.children[t.currentIndex].style.opacity)>0?(Number(t.children[t.currentIndex].style.opacity)<.9&&0==e&&n.start(),t.children[t.currentIndex].style.opacity=Number(t.children[t.currentIndex].style.opacity)-.05):i.cancel()}));i.start()}},{key:"handleVideos",value:function(){this.hasVideo&&(0!=this.videos[this.currentIndex]&&(this.videos[this.currentIndex].pause(),this.videos[this.currentIndex].currentTime=0),0!=this.videos[this.nextIndex]&&(this.videos[this.nextIndex].load(),this.videos[this.nextIndex].play()))}},{key:"lookupVideos",value:function(){console.log("LOOKUP VIDEO");for(var t=0;t<=this.childrenLen;t++)this.videos.push(this.children[t].querySelector("video")||!1),console.log(this.videos)}}])&&C(e.prototype,n),r&&C(e,r),t}();function D(){var t=document.querySelector("#nav-toggle"),e=null;document.querySelector("html").addEventListener("click",(function(t){o(t.srcElement)[0];null==e&&document.querySelectorAll(".nav-dropdown").forEach((function(t,n){console.log(t),e!=t&&function(t){t.style.display="none"}(t)})),e=null})),document.querySelectorAll("header nav ul li a:not(:only-child)").forEach((function(t,n){var i=o(t)[0];t.addEventListener("click",(function(n){e=t.parentElement.querySelector("ul"),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";t.style.display==e?t.style.display="none":t.style.display=e}(i)}))})),t.addEventListener("click",(function(e){var n=r("header nav ul")[0];n.classList.toggle("open"),t.classList.toggle("clicked"),n.classList.contains("open")?l(n):c(n)}))}}]);
//# sourceMappingURL=deadbox.min.js.map